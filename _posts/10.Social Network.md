## 10.4 Paritioning of Graps

이세션에서는, 우리는 환인한다 다른 접근법 소셜 네트워크를 조직하기 위한  
우리는 사용합니다. 중요한 도구를,행렬 이론으로 부터(spectral method) 공식화하기 위해 문제를 그래프를 분할하는 다른 요소들 사이의 연결을 하는 엣지를 최소화하는  
컷 크기를 최소화 하는 목표는 필요합니다. 세심히 이해하는 것이 proceeding 이전에.  
예를들어, 만약 너가 페이스북에 막 가입하면, 너는 아직 아무런 친구들과도 연결되지 않았다.  
우리는 원치핞는다. 친구 그래프와 너를 나누기를 하나의 그룹에서 그리고 다른 그룹들 과, 비록두개의 그룹의 멤더들과 연결된 어떠한 엣지가 없이 그래프를 나누라도  
이 컷은 바람직하지 않습니다. 왜냐면 두개의 컴포넌트의 크기나 너무 다르기 때문입니다.

### 10.4.1 What Makes a Good Partition?

그래프가 주어졌을 떄, 우리는 나누려합니다. 노드들을 두 집합으로 그래서 cut 이나  다른 집합과 연결된 노드들가 있는 엣지들의 집합을 최소화합니다.  
그러나, 우리는 또한 원합니다. 제약을 컷을 선택하기 위한 두개의 집합의 크기가 대략적으로 비슷하게  
다음 그림이 이를 나타냅니다.

<img src="10.Social Network.assets/image-20200716164456104.png" alt="image-20200716164456104" style="zoom:50%;" />

### 10.4.2 Normalized Cuts

good cut 의 적절한 정의는 반드시 조화로워야합니다. 컷의 자체의 크기와 컷이 만든 집합들의 크기에서 차이  
한 선택은 normzailed cut 으로 잘 알려져있습니다.  
우선 노드들의 집합 S 의 volume 을 정의합니다. Vol(S)  
이는 S 안에서 적어도 하나의 끝(노드)이 있는 엣지의 수 입니다. 

우리가 그래프의 노드들을 두개의 disjoing 집합 S와 T 로 나눈 다고 봅시다.  
Cut(S,T) 를 S의 노드에서 T 의 노드로 연결한 엣지의 수라고 합시다. (S to T)  
그러면 S,T 에 대한 normalized cut 값은 다음과 같이 정의됩니다.

$$\frac{Cut(S,T)}{Vol(S)} + \frac{Cut(S,T)}{Vol(T)}$$

example 10.15 

그림 10.11 에서 S={H},T = {A,B,C,D,E,F,G} 인 경우  
Vol(S) = 1, Vol(T) = 11 입니다.  
Cut(S,T) = 1 이므로  
normalized cut 은 1/1+1/11 = 1.09  

(B,D),(C,G) 컷인 경우, S = {A,B,C,H}, T = {D,E,F,G}  
Cut(S,T) = 2 , Vol(S) = 6 , Vol(T) = 7 이므로   
normalized cut 은 2/6 + 2/7 = 0.62 입니다.





## 10.5 Finding Overlapping Communities

우리는 커뮤니티를 찾기 위해 소셜 그래프를 클러스터링하는 것에 포커스를 맞추어 왔습니다.  
그러나 실제 커뮤니티는 거의 disjoint 하지 않습니다.  
이 세션에서, 우리는 소셜그래프를 취해서 모델에 맞추는 방법을 설명합니다. 이것은 가장 좋게 설명합니다. 어떻게 매커지늠에 의해 그래프가 생성될 수 있는지, 그것은 가정합니다. 확률을 두개의 노드가 엣지로 연결될 확률은 그 노드들이 공통의 커뮤니티가 많을 수록 더 올라간다는 것을  
중요한 도구, 이를 분석하기 위한, 최대 우도 추정입니다.  
우리는 오버래핑 방법을 설명하기 전에 이를 설명할 것입니다.

### 10.5.2 Maximum-Likelihood Estimation

우리가 겹쳐진 커뮤니티들을 찾는 알고리즘을 보기 전에, 유용한 모델링 툴인 최대우도추정 MLE 를 배워봅시다.  
MLE 의 기본 아이디어 아래에는 가정이있습니다. generative process, model 이라는 그것은 인조적인 인스턴스를 만드는 것입니다.  
이 모델은 파라미터를 갖습니다. 그것은 확률을 결정합니다. 인조의 어떠한 특정 인스턴스를 발생시키는,  
이 확률은 그 파라미터 값의 likelihood 라고 불립니다.  
우리는 파라미터의 값읠 가정합니다. 그 파라미터가 가장 큰 값을 준다고 우도의 그것은 관찰된 인조물과 일치하는 모델의

예시는 MLE 원리를 명확하게 만들어 줍니다.  
예를들어 우리가 무작위 그래프를 만들고 싶습니다.  
우리는 각 엣지가 확률 p를 가지고 존재하고, 1-p 를 가지고 존재하지 않다고 생각합니다. 그리고 각 엣지의 존재유무는 독립적입니다.  
우리가 조정할 수 있는 파리미터는 p 뿐 입니다.  
p의 각 값에 대해 생성 된 그래프가 우리가 보는 것과 정확히 같을 확률은 작지만 0이 아닙니다.  
MLE 원리를 따르면, 우리는 주장할 수 있습니다. p 의 실제 값이 관찰된 그래프를 발생시키는 확률이 최 값음을  

### 10.5.3 The Affilation-Graph Model

affiliatio-graph model 은 커뮤니티로 부터 소셜 그래프를 발생시키는 매커니즘입니다.

우선 우리는 어떻게 모델의 파라미터가 주어진 그래프를 볼 가능성에 영향을 미치는지 보고, 우리는 어떻게 최대우도를 주는 파라미터 값을 어떻게 푸는지 다룹니다.  
그래프 생성 매커니즘의 요소는 다음과 같습니다.

1. 켜뮤니티가 지정된 수가 주어지고, 특정 수의 노드가 주어집니다.
2. 각 커뮤니티는 멤버로서 노드들의 어떠한 집합도 갖을 수 있습니다.  
   이는 커뮤니티에서 맴버쉽이고 모델의 파라미터 입니다. 
3. 각 커뮤니티 C 는 그것과 관련된 확률 $p_c$ 를 갖습니다. 이 확률은 커뮤니티 C 의 두 맴버가 엣지로 연결될 확률입니다. 왜냐면 그것들 둘다 C의 맴버이기 때문입니다.  
   이 확률들은 또한 모델의 파라미터입니다.
4. 만약 노드의 쌍이 두개 이상의 커뮤티니에 있을 때,  
   그것들 사이에 한 엣지가 있습니다. 만약 둘 다의 구성원인 커뮤니티의 중 하나라도 3번 규칙에 따라 엣지를 유도하면(induce)
5. 커뮤니티가 그것들의 맴버 두개 사이에서 엣지를 유도하는지에 대한 선택은 독립적입니다. 그것은 그 두개의 노드가 멤버인 다른 커뮤니티에 대한 결과에

우리는 우도를 계산해야 합니다. 그것은 이 매커니즘에 의해 노드들의 적절한 수를 가진 주어진 그래프가 생성되게 합니다.  
중요한 옵서베이션은 어떻게 엣지 확률이 계산되는지 입니다. 노드들의 커뮤니티와  $p_c$ 의 값의 할당이 주어졌을 때  
엣지 (u,v) 가 주어졌다고 생각해봅시다. 노드 u와 v는 C,D 의 커뮤니티고, 다른 커뮤니티는 없습니다.  
그러면, 5번 규칙의 독립성 가정에 의해, u,v 사이에 엣지가 없다는 확률은 두 확률의 합입니다. 커뮤니티 C 때문에 엣지가 없다과, D 때문에 없다라는 확률  
이는 확률 $(1-p_C) (1-p_D)$ 을 가지고 그래프에서 엣지 (u,v) 가 없습니다. 그리고 물론 그 엣지가 있을 확률은 1-없을 확률입니다.  

더 일반적으로, 만약에 u와 v 가 M의 커뮤니티의 nonempty 집합의 멤버이고, 다른 것들의 집합이 아니라면, $p_{uv}$, u와 v 사이의 엣지의 확률은 다음과 같이 주어집니다.  

$$ p_{uv} = \prod_{C\ in \ M}(1-p_C) $$

중요한 특이케이스는, 만약 u 와 v 가 둘다 어떤 커뮤니티도 아닌경우,  
$p_{uv}$ 에 아주 작은 수 $\varepsilon$ 를 넣어줍니다.  
우리는 이 확률은 nonzero로 선택해야합니다.  
그렇지 않으면 우리는 nonzero 우도를  
한 커뮤니티를 공유하는 모든 노드의 페어를 갖지 않은 커뮤니티에 어떠한 집합에도 할당되게할 수 없습니다.  
그러나 매우작은 확률값을 취하면서, 우리는 우리의 계산에 편향을 줍니다. 특정 솔루션을 선호하도록, 그것은 모든 관찰된 엣지가 어떤 커뮤니티안의 조인트 맴버쉽으로 설명되도록합니다.@

만약 우리가 어떤 노드들이 어떤 커뮤니티에 있는지 안다면,  
우리는 우도를 계산할 수 있습니다. 주어진 그래프의 그 엣지 확률들에 대한, 위의 식을 일반화 하여서.  
$p_{uv}$ 를 u와 v 에 대한 확률 (위 10.1 식) 이거나, u와 v 가 커뮤니티를 쉐어하지 않으면 입실론으로 둡시다.  
그러면, 관찰된 그래프에서 정확한 엣지의 집합이 되는 E의 우도는 다음과 같습니다.

<img src="10.Social Network.assets/image-20200716144306304.png" alt="image-20200716144306304" style="zoom:33%;" />

#### example 10.22

<img src="10.Social Network.assets/image-20200716144358785.png" alt="image-20200716144358785" style="zoom:50%;" />

그림의 작은 그래프를 고려해봅시다.  
두개의 커뮤니티 C,D 가 있거, 각각 확률 $p_C , p_D$ 를 갖습니다.  
C = {w,x,y}, D = {w,y,z} 로 둡니다.  
w와 x 쌍에 대해 생각해봅시다.   
$M_{wx}$ = {C}, 이 쌍은 커뮤니티 C에 있습니다, D가 아니라  
그러므로 $p_{wx} = 1-(1-p_C)=p_C$ 입니다.

유사하게 x,y 는 C 에 있고, y,z 는 D 에 w,z 는 D 에 있습니다.  
그러므로 $p_{xy} = p_C , p_{yz} = p_{wz} = p_D$  
w,y의 경우 C,D 모두에 있습니다.  
그러므로 $p_{wy} = 1 - (1-p_C)(1-p_D) = p_C + p_D - p_C p_D$   
x,z 의 경우 같이있지 않으므로 $p_{xz} = \varepsilon$  입니다.

이제 우리는 그래프의 우도를 계산할 수 있습니다. 두 개의 커뮤니티에 멤버쉽에 대한 우리의 가정이 주어진다면.  
이 우도는 확률의 곱입니다. 실제의 4개의 쌍들에 대한, 그리고 1- 없는 쌍의 엣지 확률에 대한

$p_{wx}p_{wy}p_{xy}p_{yz}(1 − p_{wz})(1 − p_{xz})  $

위의 식들을 사용하여 다음과 같이 표현할 수 있습니다.

<img src="10.Social Network.assets/image-20200716150125074.png" alt="image-20200716150125074" style="zoom:50%;" />

마지막항의 입실론은 매우작으므로 그냥 1로 둬도 됩니다.

우리는 이 10.2 식을 최대로 하는 p_C 와 p_D 를 찾아야합니다.  
우선, 모든 항들은 p_C 에 독립적이거나, p_C가 커짐에 따라 커집니다. -pcpd 의 경우도, p_D <1 이므로 3번째 항도 p_c 에 따라 커집니다. 그러므로 최대화하기 위해서는 p_C = 1 이 됩니다. 

다음으로 pC=1 일 때, pD를 찾아야합니다. 위의 식은 $p_D(1-p_D)$ 로 바뀝니다. 그리고 이 값은 $p_D=0.5$ 일때 최대값을 갖습니다.